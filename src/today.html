<template>
    <import from="./pagination"></import>
    <section>
        <h2>${heading}</h2>
        <pagination></pagination>
        <form role="form" submit.delegate="addTask()" >
            <div class="row">
                <div class="small-6 large-12 columns">
                    <div data-alert class="alert-box warning" show.bind="!savedTasks">
                        Tasks need to be saved.
                    </div>
                    <label for="task">Task:</label>
                    <input type="text" name="task" value.bind="newTask.description" autofocus>
                </div>
            </div>
        </form>
        <form role="form" submit.delegate="saveTasks()">
            <div class="row">
                <div class="small-6 large-12 columns">
                    <button class="button tiny" type="text" name="Save">Save Tasks</button>
                </div>
            </div>
        </form>
        <div class="row">
            <div class="small-6 large-12 columns">
                <table>
                    <thead>
                        <tr>
                            <th width="1000">Task</th>
                            <th width="150">Finished</th>
                            <th width="150">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr repeat.for="task of tasks">
                            <td>${task.description}</td>
                            <td><input type="checkbox" checked.bind="task.isFinished" change.delegate="$parent.setSavedTasks(false)"></td>
                            <td><button class="button alert tiny" type="text" name="deleteTask" click.trigger="$parent.deleteTask(task)">Delete</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>
</template>
